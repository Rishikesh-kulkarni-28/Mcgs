<?php require_once __DIR__.'/../includes/dbconnection.php'; require_once __DIR__.'/header.php'; $type = $_GET['type'] ?? 'aboutus'; $st = $dbh->prepare('SELECT * FROM tblpage WHERE PageType=? LIMIT 1'); $st->execute([$type]); $p = $st->fetch(); $msg=''; if ($_SERVER['REQUEST_METHOD']==='POST') { $title = $_POST['PageTitle'] ?? ''; $desc = $_POST['PageDescription'] ?? ''; $email = $_POST['Email'] ?? ''; $mobile = $_POST['MobileNumber'] ?? ''; $u = $dbh->prepare('UPDATE tblpage SET PageTitle=?, PageDescription=?, Email=?, MobileNumber=? WHERE PageType=?'); $u->execute([$title,$desc,$email,$mobile,$type]); $msg = 'Page updated.'; $st->execute([$type]); $p = $st->fetch(); } ?> <h3>Edit Page (<?php echo htmlspecialchars($type); ?>)</h3> <?php if($msg): ?><div class="alert alert-success"><?php echo htmlspecialchars($msg); ?></div><?php endif; ?> <form method="post" class="card card-body"> <div class="mb-3"><label class="form-label">Title</label><input name="PageTitle" class="form-control" value="<?php echo htmlspecialchars($p['PageTitle'] ?? ''); ?>"></div> <div class="mb-3"><label class="form-label">Description</label><textarea name="PageDescription" class="form-control" rows="6"><?php echo htmlspecialchars($p['PageDescription'] ?? ''); ?></textarea></div> <div class="row"> <div class="col-md-6 mb-3"><label class="form-label">Email</label><input name="Email" class="form-control" value="<?php echo htmlspecialchars($p['Email'] ?? ''); ?>"></div> <div class="col-md-6 mb-3"><label class="form-label">MobileNumber</label><input name="MobileNumber" class="form-control" value="<?php echo htmlspecialchars($p['MobileNumber'] ?? ''); ?>"></div> </div> <button class="btn btn-primary">Save</button> <a class="btn btn-secondary" href="pages.php">Back</a> </form> <?php require_once __DIR__.'/footer.php'; ?>