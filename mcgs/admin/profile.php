<?php require_once __DIR__.'/../includes/dbconnection.php'; require_once __DIR__.'/header.php'; $id = (int)$_SESSION['admin_id']; $st = $dbh->prepare('SELECT * FROM tbladmin WHERE ID=?'); $st->execute([$id]); $a = $st->fetch(); $msg=''; if ($_SERVER['REQUEST_METHOD']==='POST') { $name = $_POST['AdminName'] ?? ''; $email = $_POST['Email'] ?? ''; $mobile = $_POST['MobileNumber'] ?? ''; $u = $dbh->prepare('UPDATE tbladmin SET AdminName=?, Email=?, MobileNumber=? WHERE ID=?'); $u->execute([$name,$email,$mobile,$id]); $msg='Profile updated'; $st->execute([$id]); $a = $st->fetch(); } ?> <h3>Admin Profile</h3> <?php if($msg): ?><div class="alert alert-success"><?php echo htmlspecialchars($msg); ?></div><?php endif; ?> <form method="post" class="card card-body"> <div class="mb-3"><label class="form-label">Admin Name</label><input name="AdminName" class="form-control" value="<?php echo htmlspecialchars($a['AdminName']); ?>"></div> <div class="mb-3"><label class="form-label">Email</label><input name="Email" class="form-control" value="<?php echo htmlspecialchars($a['Email']); ?>"></div> <div class="mb-3"><label class="form-label">Mobile Number</label><input name="MobileNumber" class="form-control" value="<?php echo htmlspecialchars($a['MobileNumber']); ?>"></div> <button class="btn btn-primary">Save</button> </form> <?php require_once __DIR__.'/footer.php'; ?>