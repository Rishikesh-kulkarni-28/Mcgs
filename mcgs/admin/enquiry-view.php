<?php declare(strict_types=1); require_once __DIR__ . '/../includes/dbconnection.php'; require_once __DIR__ . '/header.php'; $id = isset($_GET['id']) ? (int)$_GET['id'] : 0; if ($id <= 0) { echo '<div class="alert alert-danger">Invalid enquiry ID.</div>'; require_once __DIR__ . '/footer.php'; exit; } $st = $dbh->prepare('SELECT * FROM tblcontact WHERE ID = ?'); $st->execute([$id]); $r = $st->fetch(PDO::FETCH_ASSOC); if (!$r) { echo '<div class="alert alert-warning">Enquiry not found.</div>'; echo '<a class="btn btn-secondary" href="enquiries.php">Back</a>'; require_once __DIR__ . '/footer.php'; exit; } // Mark as read (optional) $dbh->prepare('UPDATE tblcontact SET IsRead = 1 WHERE ID = ?')->execute([$id]); ?> <h3>View Enquiry</h3> <div class="card card-body"> <p><strong>Name:</strong> <?php echo htmlspecialchars($r['Name'] ?? ''); ?></p> <p><strong>Email:</strong> <?php echo htmlspecialchars($r['Email'] ?? ''); ?></p> <p><strong>Date:</strong> <?php echo htmlspecialchars($r['EnquiryDate'] ?? ''); ?></p> <p><strong>Message:</strong><br><?php echo nl2br(htmlspecialchars($r['Message'] ?? '')); ?></p> <a class="btn btn-secondary" href="enquiries.php">Back</a> </div> <?php require_once __DIR__ . '/footer.php'; ?>