<?php declare(strict_types=1); session_start(); if (empty($_SESSION['admin_id'])) { header('Location: login.php'); exit; } require_once __DIR__ . '/../includes/dbconnection.php'; $id = isset($_POST['id']) ? (int)$_POST['id'] : 0; if ($id <= 0 && isset($_GET['id'])) { $id = (int)$_GET['id']; } try { if ($id > 0) { $st = $dbh->prepare('DELETE FROM tblcontact WHERE ID = ?'); $st->execute([$id]); } header('Location: enquiries.php'); exit; } catch (Throwable $e) { http_response_code(500); echo 'Delete failed: ' . htmlspecialchars($e->getMessage()); exit; }